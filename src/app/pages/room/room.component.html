<!-- <div class="container"> 
  <!-- <div class="container-fluid">
  <h3>Room Details</h3>

  <hr />
  
  <div class="button-group">
    <button class="nav-button" (click)="loadRooms()">All Rooms</button>
    <button class="nav-button" (click)="loadRooms()">Available Rooms</button>
    <button class="nav-button" (click)="loadRooms()">Booked Rooms</button>
  </div>

 <div class="table-head">
  <input type="text" placeholder="Search" [(ngModel)]="searchTerm" (input)="filterRooms()" />
  <button id="main-btn" class="btn btn-primary" routerLink="/create-room">
    Create New Room
    
  </button>
 </div>
  <table class="table table-striped table-bordered table-hover">
    <thead>
      <tr>
        <th scope="col">S/N</th>
        <th scope="col">Room Id</th>
        <th scope="col">Room Number</th>
        <th scope="col">Room Floor</th>
        <th scope="col">Room Category</th>
        <th scope="col">Room Capacity</th>
        <th scope="col">Room Price</th>
        <th scope="col">Room Availability</th>
        <th scope="col">Room Description</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      @for ( room of paginate(filteredRooms); track $index) {
      <tr>
          <td>{{ (currentPage - 1) * itemsPerPage + ($index + 1) }}</td>
          <th scope="row">{{ room.id }}</th>
          <td>{{ room.roomNumber }}</td>
          <td>{{ room.roomFloor }}</td>
          <td>{{ room.category }}</td>
          <td>{{ room.capacity }}</td>
          <td>{{ room.price }}</td>
          <td>
            <span [class]="getStatusClass(room.isAvailable)">
              {{ room.isAvailable }}
            </span>
          </td>
          <td>{{ room.description }}</td>
          <td>
            <button type="button" class="btn btn-primary" (click)="editRoom(room.id)">
              <i class="bi bi-pencil"></i>
            </button>
            
              <button class="btn btn-primary" (click)="openEditModal(room.id)">Edit</button>
     
            <button type="button" class="btn btn-sm btn-danger" (click)="deleteRoom(room.id)">
              <i class="bi bi-trash"></i>
            </button>
          </td>
        
      </tr>}
    </tbody>
  </table>

  <div class="pagination">
    <button (click)="previousPage()" [disabled]="currentPage === 1">Previous</button>
    <button (click)="nextPage()" [disabled]="currentPage === totalPages">Next</button>
  </div>
</div>
<div class="modal" tabindex="-1" [ngClass]="{ 'show': editModalOpen }">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Edit Room</h5>
        <button type="button" class="btn-close" (click)="closeEditModal()"></button>
      </div>
      <div class="modal-body">
        <form (ngSubmit)="updateRoom()">
          <div class="form-group">
            <label>Room Number</label>
            <input type="text" [(ngModel)]="selectedRoom.roomNumber" name="roomNumber">
          </div>
          <div class="form-group">
            <label>Room capacity</label>
            <input type="number" [(ngModel)]="selectedRoom.capacity" name="capacity">
          </div><div class="form-group">
            <label>Room category</label>
            <input type="text" [(ngModel)]="selectedRoom.category" name="category">
          
          </div>
          <div class="form-group">
            <label>Room description</label>
            <input type="text" [(ngModel)]="selectedRoom.description" name="description">
          </div>
          
          <div class="form-group">
            <label>Room Floor</label>
            <input type="text" [(ngModel)]="selectedRoom.roomFloor" name="roomFloor">
          </div>
          <div class="form-group">
            <label>Room Availability</label>
            <input type="text" [(ngModel)]="selectedRoom.isAvailable" name="isAvailable">
          </div>
          <div class="form-group">
            <label>Room price</label>
            <input type="number" [(ngModel)]="selectedRoom.price" name="price">
          </div>
          <div class="form-group">
            <label>Room price</label>
            <input type="text" [(ngModel)]="selectedRoom.amenities" name="amenities">
          </div>
         
         
          <button type="submit" class="btn btn-primary">Update Room</button>
        </form>
      </div>
    </div>
  </div>
</div>

 -->

 <!-- <h3>Room Details</h3>
 <hr /> -->

 <!-- <div class="button-group">
   <button class="nav-button" (click)="filterRoomsByAvailability('All')">All Rooms</button>
   <button class="nav-button" (click)="filterRoomsByAvailability('Vacant')">Vacant Rooms</button>
   <button class="nav-button" (click)="filterRoomsByAvailability('Booked')">Booked Rooms</button>
   <button class="nav-button" (click)="filterRoomsByAvailability('UnderMaintenance')">Under Maintenance Rooms</button>
</div> -->
<!--
 <div class="table-head">
   <input
     type="text"
     placeholder="Search"
     [(ngModel)]="searchTerm"
     (input)="filterRooms()"
   />
    <tr *ngFor="let room of paginate(filteredRooms); let i = index">
       <td>{{ (currentPage - 1) * itemsPerPage + (i + 1) }}</td>
   <button
     id="main-btn"
     class="btn btn-primary"
     (click)="openCreateModal()"
   >
     Create New Room
   </button>
 </div>

 <table class="table table-striped table-bordered table-hover">
   <thead>
     <tr>
       <th scope="col">S/N</th>
       <th scope="col">Room Id</th>
       <th scope="col">Room Number</th>
       <th scope="col">Room Floor</th>
       <th scope="col">Room Category</th>
       <th scope="col">Room Capacity</th>
       <th scope="col">Room Price</th>
       <th scope="col">Room Availability</th>
       <th scope="col">Room Description</th>
       <th scope="col">Actions</th>
     </tr>
   </thead>
   <tbody>
     <tr *ngFor="let room of paginate(filteredRooms); let i = index">
       <td>{{ (currentPage - 1) * itemsPerPage + (i + 1) }}</td>
       <th scope="row">{{ room.id }}</th>
       <td>{{ room.roomNumber }}</td>
       <td>{{ room.roomFloor }}</td>
       <td>{{ room.category }}</td>
       <td>{{ room.capacity }}</td>
       <td>{{ room.price }}</td>
       <td>
         <span [class]="getStatusClass(room.isAvailable)">{{
           room.isAvailable
         }}</span>
       </td>
       <td>{{ room.description }}</td>
       <td>
        <button (click)="openEditModal(room)">Edit</button>
          <button
           type="button"
           class="btn btn-sm btn-primary"
           (click)="openEditModal(room)"
         >
           <i class="bi bi-pencil"></i> Edit
         </button> 
         <button
           type="button"
           class="btn btn-sm btn-danger"
           (click)="openDeleteModal(room)"
         >
           <i class="bi bi-trash"></i> Delete
            <button type="button" class="btn btn-sm btn-danger" (click)="deleteRoom(room.id)">
           <i class="bi bi-trash"></i> 
         </button>
       </td>
     </tr>
   </tbody>
 </table>

 <div class="pagination">
   <button (click)="previousPage()" [disabled]="currentPage === 1">
     Previous
   </button>
   <button (click)="nextPage()" [disabled]="currentPage === totalPages">
     Next
   </button>
 </div>
</div>
-->
<!-- <app-edit-room></app-edit-room> -->
<!-- create room modal 
<div
 class="modal fade"
 tabindex="-1"
 [ngClass]="{ show: createModalOpen }"
 [style.display]="createModalOpen ? 'block' : 'none'"
>
 <div class="modal-dialog">
   <div class="modal-content">
     <div class="modal-header">
       <h5 class="modal-title">Create Room</h5>
       <button
         type="button"
         class="btn-close"
         (click)="closeCreateModal()"
       ></button>
     </div>
     <div class="modal-body">
       <app-create-room></app-create-room>
     </div>
   </div>
 </div>
</div> -->

<!-- create room modal
<div
 class="modal fade"
 tabindex="-1"
 [ngClass]="{ show: editModalOpen }"
 [style.display]="editModalOpen ? 'block' : 'none'"
>
 <div class="modal-dialog">
   <div class="modal-content">
     <div class="modal-header">
       <h5 class="modal-title">Edit Room</h5>
       <button
         type="button"
         class="btn-close"
         (click)="closeEditModal()"
       ></button>
     </div>
     <div class="modal-body">
       <app-edit-room></app-edit-room>
     </div>
   </div>
 </div>
 </div> -->
<!-- Edit Room Modal 

 <div
 class="modal fade"
 tabindex="-1"
 [ngClass]="{ show: editModalOpen }"
 [style.display]="editModalOpen ? 'block' : 'none'"
>
 <div class="modal-dialog">
   <div class="modal-content">
     <div class="modal-header">
       <h5 class="modal-title">Edit Room</h5>
       <button
         type="button"
         class="btn-close"
         (click)="closeEditModal()"
       ></button>
     </div>
     <div class="modal-body">
       <form (ngSubmit)="updateRoom()">
         <div class="form-group">
           <label>Room Number</label>
           <input
             type="text"
             class="form-control"
             [(ngModel)]="selectedRoom.roomNumber"
             name="roomNumber"
             required
           />
         </div>
         <div class="form-group">
           <label>Room Capacity</label>
           <input
             type="number"
             class="form-control"
             [(ngModel)]="selectedRoom.capacity"
             name="capacity"
             required
           />
         </div>
         <div class="form-group">
           <label>Room Category</label>
           <input
             type="text"
             class="form-control"
             [(ngModel)]="selectedRoom.category"
             name="category"
             required
           />
         </div>
         <div class="form-group">
           <label>Room Description</label>
           <input
             type="text"
             class="form-control"
             [(ngModel)]="selectedRoom.description"
             name="description"
             required
           />
         </div>
         <div class="form-group">
           <label>Room Floor</label>
           <input
             type="text"
             class="form-control"
             [(ngModel)]="selectedRoom.roomFloor"
             name="roomFloor"
             required
           />
         </div>
         <div class="form-group">
           <label>Room Availability</label>
           <input
             type="text"
             class="form-control"
             [(ngModel)]="selectedRoom.isAvailable"
             name="isAvailable"
             required
           />
         </div>
         <div class="form-group">
           <label>Room Price</label>
           <input
             type="number"
             class="form-control"
             [(ngModel)]="selectedRoom.price"
             name="price"
             required
           />
         </div>
         <h5>Amenities</h5>
         <div
           *ngFor="let amenity of selectedRoom.amenities; let i = index"
           class="mb-2"
         >
           <div class="d-flex">
             <input
               type="text"
               class="form-control me-2"
               [(ngModel)]="amenity.name"
               name="amenityName{{ i }}"
               placeholder="Amenity Name"
               required
             />
             <input
               type="number"
               class="form-control"
               [(ngModel)]="amenity.quantity"
               name="amenityQuantity{{ i }}"
               placeholder="Quantity"
               required
             />
             <button
               type="button"
               class="btn btn-danger"
               (click)="selectedRoom.amenities.splice(i, 1)"
             >
               Remove
             </button>
           </div>
         </div>
         <button
           type="button"
           class="btn btn-secondary"
           (click)="selectedRoom.amenities.push({ name: '', quantity: 1 })"
         >
           Add Amenity
         </button>

         <button type="submit" class="btn btn-primary mt-2">
           Update Room
         </button>
       </form>
     </div>
   </div>
 </div>
</div> -->

<!-- Delete Confirmation Modal
<div
 class="modal fade"
 tabindex="-1"
 [ngClass]="{ show: deleteModalOpen }"
 [style.display]="deleteModalOpen ? 'block' : 'none'"
>
 <div class="modal-dialog">
   <div class="modal-content">
     <div class="modal-header">
       <h5 class="modal-title">Confirm Deletion</h5>
       <button
         type="button"
         class="btn-close"
         (click)="closeDeleteModal()"
       ></button>
     </div>
     <div class="modal-body">
       <p>
         Are you sure you want to delete the room
         <strong>{{ selectedRoom.roomNumber }}</strong
         >?
       </p>
     </div>
     <div class="modal-footer">
       <button
         type="button"
         class="btn btn-secondary"
         (click)="closeDeleteModal()"
       >
         Cancel
       </button>
       <button type="button" class="btn btn-danger" (click)="deleteRoom()">
         Delete
       </button>
     </div>
   </div>
 </div>
</div> -->



 <!-- <div class="button-group">
   <button class="nav-button" (click)="filterRoomsByAvailability('All')">All Rooms</button>
   <button class="nav-button" (click)="filterRoomsByAvailability('Vacant')">Vacant Rooms</button>
   <button class="nav-button" (click)="filterRoomsByAvailability('Booked')">Booked Rooms</button>
   <button class="nav-button" (click)="filterRoomsByAvailability('UnderMaintenance')">Under Maintenance Rooms</button>
</div> -->

    
<div class="container">
  <h1>Rooms</h1>
  <input
  type="text"
  placeholder="Search"
  [(ngModel)]="searchTerm"
  (input)="filterRooms()">
  <button class="btn btn-primary" (click)="openCreateDialog()">Create Room</button>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Room Number</th>
        <th>Category</th>
        <th>Room Floor</th>
        <th>Capacity</th>
        <th>Is Available</th>
        <th>Price</th>
        <th>Description</th>
        <th>Amenities</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let room of rooms">
        <td>{{ room.roomNumber }}</td>
        <td>{{ room.category }}</td>
        <td>{{ room.roomFloor }}</td>
        <td>{{ room.capacity }}</td>
        <td>{{ room.isAvailable }}</td>
        <td>{{ room.price }}</td>
        <td>{{ room.description }}</td>
        <td>
          <ul>
            <li *ngFor="let amenity of room.amenities">{{ amenity.name }} ({{ amenity.quantity }})</li>
          </ul>
        </td>
        <td>
          <button class="btn btn-primary" (click)="openEditDialog(room)">Edit</button>
          <button class="btn btn-info" (click)="openViewDialog(room)">View</button>
          <button class="btn btn-danger" (click)="openDeleteRoomDialog(room)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>